__NUXT_JSONP__("/en/blog/timezones-are-hell", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_){return {data:[{article:{slug:"timezones-are-hell",description:"This is really the kind of hell you don't want to get into, unless you really need to.",title:"Timezones are hell",img:"https:\u002F\u002Fupload.wikimedia.org\u002Fwikipedia\u002Fcommons\u002Fthumb\u002F8\u002F88\u002FWorld_Time_Zones_Map.png\u002F1920px-World_Time_Zones_Map.png",alt:"Random image",author:{name:"Malik Olivier Boussejra",slug:"olivier",bio:"CTO at Epigno",img:"\u002Fimg\u002Fauthors\u002Fpic-malik-olivier-boussejra.jpg"},createdAt:az,updatedAt:az,tags:[ah,ai,aj],toc:[{id:aA,depth:ak,text:aB},{id:aC,depth:ak,text:"Deeper look into pytz"},{id:aD,depth:ak,text:aE}],body:{type:"root",children:[{type:b,tag:j,props:{},children:[{type:a,value:"Timezones are hell.\nThis is really the kind of hell you don't want to get into, unless you really\nneed to."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"After getting timezone issues, I started wishing that all countries switch\nto UTC!"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Alas, timezones, like many things, are here to stay.\nUntil the 19th century, each city had its own local time calculated from the\nsun's movements. However, interconnections between communities forced\nthe people to agree on a common time, a.k.a a time zone."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Unfortunately, as with all human agreements, timezones do not correlate very\nwell with natural phenomena, here, Earth's geometry.\nWhile both are continent-size countries, the US shares more than 5 timezones, while China\nonly has "},{type:b,tag:al,props:{},children:[{type:a,value:"one"}]},{type:a,value:" single timezone.\nThen some countries include energy-saving time changes. They even move 1 hour\nin some countries during specific periods (e.g. Morocco during the month of Ramadan).\nOr did you know that an island in the Pacific changed "},{type:b,tag:al,props:{},children:[{type:a,value:am}]},{type:a,value:" after its leaders\ndecided to move to the other side of the international date-changing line?"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Hopefully a lot of experienced developers thought really hard to solve these\nissues, both for database management systems and programming languages."}]},{type:a,value:f},{type:b,tag:aF,props:{id:"timezones-in-python"},children:[{type:b,tag:A,props:{href:"#timezones-in-python",ariaHidden:M,tabIndex:N},children:[{type:b,tag:c,props:{className:[O,P]},children:[]}]},{type:a,value:"Timezones in Python"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Let's take a look at Python's most known solution to the timezone mess."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Let's fire up a Python REPL:"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,B]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:an}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:D}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"48"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"17268"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"So it's now July 4th 2018 7:48:07 AM (and some microseconds).\nThis is my local time."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Python has a handy function to get UTC time:"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,B]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"utcnow"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"3"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"22"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"51"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"17"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"827155"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"So it's now July 3rd 2018 22:51:17 (and some microseconds) in UTC time."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"But where is the timezone information? How do I know, given a python "},{type:b,tag:m,props:{},children:[{type:a,value:z}]},{type:a,value:",\nwhat is the the timezone of the specific time?\nWell, that may sound harsh, but you "},{type:b,tag:ap,props:{},children:[{type:a,value:"cannot"}]},{type:a,value:o}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"By default, all datetimes in python are said to be \"timezone-unaware\"!"}]},{type:a,value:f},{type:b,tag:aq,props:{id:aA},children:[{type:b,tag:A,props:{href:"#timezone-awareness-in-python",ariaHidden:M,tabIndex:N},children:[{type:b,tag:c,props:{className:[O,P]},children:[]}]},{type:a,value:aB}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"As it appears, Python has two datetime types. One is said \"timezone-unaware\",\nwhile the other is said \"timezone-aware\"."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Let's make a timezone-aware datetime. For that we will use the "},{type:b,tag:m,props:{},children:[{type:a,value:$}]},{type:a,value:" module."}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,B]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:D}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aa]},children:[{type:a,value:"# Create a timezone object"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" tz "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"tz\ndatetime"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"39"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"637167"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:J}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:F}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Cool! As you see, the "},{type:b,tag:m,props:{},children:[{type:a,value:"datetime.now"}]},{type:a,value:" function can take a timezone object as\nargument, if you do so, it will return a the current time in the given timezone\nas a timezone-aware datetime."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"As you can see, if the "},{type:b,tag:m,props:{},children:[{type:a,value:T}]},{type:a,value:" attribute is set, then a datetime becomes\ntimezone-aware. You can easily check if a datetime is tz-aware as follows:"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,B]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aK}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aL]},children:[{type:a,value:"am_i_tzaware"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aN}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"not"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aw]},children:[{type:a,value:aO}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"However, there is something you should never, never do (unless you know what\nyou are doing): manually changing the "},{type:b,tag:m,props:{},children:[{type:a,value:T}]},{type:a,value:" attribute of a datetime, either\nby setting the attribute or using the "},{type:b,tag:m,props:{},children:[{type:a,value:aP}]},{type:a,value:" method. This "},{type:b,tag:ap,props:{},children:[{type:a,value:"WILL NOT"}]},{type:a,value:"\ndo what you think it will do. You will get behavior that 99.99% of people do\nnot want."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Let's try:"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,B]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:an}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:D}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:D}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" tokyo_tz "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" paris_tz "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" tokyo_time "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"tokyo_tz"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" paris_time "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:" tokyo_time"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:"paris_tz"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" paris_time\ndatetime"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"12"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"23"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"903127"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:J}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:U}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Please take a clear look at the information after the "},{type:b,tag:m,props:{},children:[{type:a,value:T}]},{type:a,value:" keyword.\nWTF??? What the heck is this 9 minutes offset???\nHave you ever heard of a timezone named LMT+0:09:00???"}]},{type:a,value:f},{type:b,tag:aq,props:{id:aC},children:[{type:b,tag:A,props:{href:"#deeper-look-into-pytz",ariaHidden:M,tabIndex:N},children:[{type:b,tag:c,props:{className:[O,P]},children:[]}]},{type:a,value:"Deeper look into "},{type:b,tag:A,props:{href:"https:\u002F\u002Fpythonhosted.org\u002Fpytz\u002F",rel:[V,W,X],target:Y},children:[{type:a,value:$}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"I know what you are thinking:\n\"Please explain what is this 9 minutes offset! If my program keeps on like this,\ncalamity will happen.\""}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Well, these are historical timezones (yes, "},{type:b,tag:A,props:{href:"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FLocal_mean_time",rel:[V,W,X],target:Y},children:[{type:a,value:"they existed"}]},{type:a,value:"!). And people dealing\nwith times from the first half of the 20th century may need them."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:m,props:{},children:[{type:a,value:$}]},{type:a,value:" can actually deal with the timezones of almost any region after the 1900s."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"And if you only use the timezone object as is, it may show a historical offset for\nthe area."}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,B]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" tokyo_tz\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:J}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:F}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"19"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" paris_tz\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:J}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:U}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"When you use the "},{type:b,tag:m,props:{},children:[{type:a,value:H}]},{type:a,value:" function, the timezone object will update itself\nto use the correct offset that politics-driven people happened to choose at the current time\nin the selected region. The timezone object will not be updated if you directly\nuse it with the "},{type:b,tag:m,props:{},children:[{type:a,value:T}]},{type:a,value:" attribute.\nBut how do I convert the time to another timezone then?"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Here is what you can do with a "},{type:b,tag:m,props:{},children:[{type:a,value:aS}]},{type:a,value:" function:"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,B]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:D}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:D}]},{type:a,value:" pytz\n\n\n"},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aK}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aL]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" local_tz"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,"builtin"]},children:[{type:a,value:"str"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,"triple-quoted-string",u]},children:[{type:a,value:"\"\"\"\n    Takes a TZ-unaware datetime in local time *or* a TZ-aware datetime and turns\n    it into a TZ-aware datetime in the provided timezone.\n    :return: TZ-aware DateTime in the provided timezone\n    \"\"\""}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"if"}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aN}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aw]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"else"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:au}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Let's try to use it:"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,B]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aa]},children:[{type:a,value:"# Localize TZ-unaware datetimes to the selected timezone"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" tzunaware_in_tokyo "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" tzaware_in_tokyo "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"tzunaware_in_tokyo"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" tzaware_in_tokyo\ndatetime"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:J}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:F}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aa]},children:[{type:a,value:"### Convert a datetime to another timezone"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" now_in_paris "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"tzaware_in_tokyo"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:a,value:" now_in_paris\ndatetime"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"1"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:J}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:U}]},{type:a,value:" CEST"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:" DST"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Basically, if you add timezone information to a timezone unaware datetime,\nplease use the "},{type:b,tag:m,props:{},children:[{type:a,value:aV}]},{type:a,value:" method of the datetime object.\nPlease use "},{type:b,tag:m,props:{},children:[{type:a,value:aW}]},{type:a,value:" if you want to convert a tz-aware datetime to a\ndifferent timezone."}]},{type:a,value:f},{type:b,tag:aq,props:{id:aD},children:[{type:b,tag:A,props:{href:"#python-ecosystem",ariaHidden:M,tabIndex:N},children:[{type:b,tag:c,props:{className:[O,P]},children:[]}]},{type:a,value:aE}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"As a side note to the Python world, numpy does not currently support\ntimezone-aware datetimes at the time of writing, while pandas does!"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Though, I would advise you to store and process all times as UTC. They should\nonly be converted when you need to show them to the user."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Here is how you can convert a series to UTC tz-aware datetime in pandas:"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,B]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:an}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:D}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:D}]},{type:a,value:" pandas "},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"as"}]},{type:a,value:" pd\n\nutc_timestamp "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:" pd"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"to_datetime"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" utc"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,aw]},children:[{type:a,value:"True"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"For communication with a database system, there are plugins for SQLAlchemy\nthat handles tz-aware datetimes. Please consider "},{type:b,tag:A,props:{href:"https:\u002F\u002Fgithub.com\u002Fspoqa\u002Fsqlalchemy-utc\u002F",rel:[V,W,X],target:Y},children:[{type:a,value:"sqlalchemy-utc"}]},{type:a,value:" for example."}]},{type:a,value:f},{type:b,tag:aF,props:{id:"databases-example-with-postgresql"},children:[{type:b,tag:A,props:{href:"#databases-example-with-postgresql",ariaHidden:M,tabIndex:N},children:[{type:b,tag:c,props:{className:[O,P]},children:[]}]},{type:a,value:"Databases: Example with PostgreSQL"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"You should store all times as UTC in databases.\nPosgreSQL has two types to store datetimes:"}]},{type:a,value:f},{type:b,tag:af,props:{},children:[{type:a,value:f},{type:b,tag:Z,props:{},children:[{type:a,value:aZ}]},{type:a,value:f},{type:b,tag:Z,props:{},children:[{type:a,value:ag}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"But don't be fooled. None of them actually "},{type:b,tag:al,props:{},children:[{type:a,value:"store"}]},{type:a,value:" time zone information."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"A "},{type:b,tag:m,props:{},children:[{type:a,value:aZ}]},{type:a,value:" is just what its namesake is, a timestamp without time zone, while a\n"},{type:b,tag:m,props:{},children:[{type:a,value:ag}]},{type:a,value:" is implicitly converted to the connection's timezone\neverytime the value is read. That's the only difference.\nIn term of data representation, they store the same thing."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"If the connection timezone is not set, a "},{type:b,tag:m,props:{},children:[{type:a,value:ag}]},{type:a,value:" will be converted to whatever\ndefault your PostgreSQL instance is configured with (usually UTC)."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"You can check your connection's timezone with:"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,ay]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"SHOW"}]},{type:a,value:" TIMEZONE"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:a_}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"By default, the query should return 'UTC'."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"You can set your connection's timezone with:"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,ay]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"SET"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"TIME"}]},{type:a,value:" ZONE "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:a_}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Then "},{type:b,tag:m,props:{},children:[{type:a,value:"SHOW TIMEZONE"}]},{type:a,value:" will return 'Asia\u002FTokyo', and all "},{type:b,tag:m,props:{},children:[{type:a,value:ag}]},{type:a,value:"\nwill be converted from UTC to the timezone (+9 hour offset for Japan for a\npost-war datetime)."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"You should especially be cautious when dealing with dates! What date a timestamp\nfalls on is dependent on the timezone!\nThe date now is 2018-07-04 in Tokyo, but 2018-07-03 in New York. That's the previous day!"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,ay]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"SELECT"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"*"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"FROM"}]},{type:a,value:" my_table\n"},{type:b,tag:c,props:{className:[d,aa]},children:[{type:a,value:"-- Here, the UTC datetime will be converted to the date in the connection's timezone!"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"WHERE"}]},{type:a,value:" my_table"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"datetime_column::"},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:am}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'2018-07-04'"}]},{type:a,value:"::"},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:am}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"If your business analytics software happens to connect to a PostgreSQL database,\ndo not forget to set the connection timezone appropriately! If not, you may get\nsurprises when you query the database!"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:ap,props:{},children:[{type:a,value:"NB:"}]}]},{type:a,value:f},{type:b,tag:af,props:{},children:[{type:a,value:f},{type:b,tag:Z,props:{},children:[{type:a,value:"You can store timezones as a separate column in a database."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:A,props:{href:"http:\u002F\u002Fsqlalchemy-utils.readthedocs.io\u002Fen\u002Flatest\u002Fdata_types.html#module-sqlalchemy_utils.types.timezone",rel:[V,W,X],target:Y},children:[{type:a,value:"SQLAlchemy-Utils even has a dedicated type"}]},{type:a,value:" for it!\nSo if need be, you may store the timezone\nof a timestamp in another column."}]},{type:a,value:f},{type:b,tag:af,props:{},children:[{type:a,value:f},{type:b,tag:Z,props:{},children:[{type:a,value:"If you ever need to explicitly convert to a specific timezones, you can use the"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"\"AT TIME ZONE\" operator in PostgreSQL."}]},{type:a,value:f},{type:b,tag:af,props:{},children:[{type:a,value:f},{type:b,tag:Z,props:{},children:[{type:a,value:"If you are wondering how pytz knows which offset is used at what time in"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"what area, they are using the official "},{type:b,tag:A,props:{href:"https:\u002F\u002Fgithub.com\u002Feggert\u002Ftz",rel:[V,W,X],target:Y},children:[{type:a,value:"Time Zone Database"}]},{type:a,value:o}]}]},dir:"\u002Farticles\u002Fen",path:"\u002Farticles\u002Fen\u002Ftimezones-are-hell",extension:".md"},tags:{python:{slug:ai,name:ai},postgres:{slug:aj,name:aj},trivia:{slug:ah,name:ah}},prev:{slug:"military-terms-in-computer-science",title:"Military terms in computer science"},next:{slug:"testing-with-flask",title:"Testing with flask"},availableLocales:[]}],fetch:[],mutations:void 0}}("text","element","span","token","punctuation","\n","operator","number"," ","p",",","\u003E","code","keyword",".","\u003E\u003E","(",")",":","=","string","div","nuxt-content-highlight","pre","line-numbers","datetime","a","language-py","00","import","7","'Asia\u002FTokyo'"," datetime","now","2018","\u003C","DstTzInfo ","+","true",-1,"icon","icon-link","4","timezone"," STD","tzinfo","'Europe\u002FParis'","nofollow","noopener","noreferrer","_blank","li"," datetime\n","pytz","comment"," pytz"," tzinfo","\n    ","32","ul","TIMESTAMP WITH TIME ZONE","trivia","python","postgres",2,"em","date","from"," datetime ","strong","h2","8","9","dt","return"," dt","boolean"," LMT","language-sql","2018-07-04T00:00:00.000Z","timezone-awareness-in-python","Timezone-awareness in Python","deeper-look-into-pytz","python-ecosystem","Python ecosystem","h1","\ndatetime"," pytz\n","2"," JST","def","function","tzinfo ","is","None","replace","0","09","tzaware_localize","\n        ","local_tz","localize","astimezone"," tzaware_localize","680085","TIMESTAMP WITHOUT TIME ZONE",";")));